{% extends "base_second.html" %}
{% load static %}

{% block content %}
<link rel="stylesheet" href="{% static 'css/stepper.css' %}" />
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>


<form class="" action="{% url 'SelectedIndex2' show.id%}" method="POST">
  {% csrf_token %}
        {% comment %} Progress Bar {% endcomment %}
        <div class="container float-right ml-5">
        <div class="row ml-5">
          <div class="col-12 container ml-5">
                <div class="wrapper-progressBar ml-5">
                  <ul class="progressBar ml-5">
                    <li class="active" style="font-family:Arial;font-size:.8rem;color:black" id="stepper">Home</li>
                    <li class="active" style="font-family:Arial;font-size:.8rem;color:black" id="stepper">Contact Information</li>
                    <li class="active" style="font-family:Arial;font-size:.8rem;color:black" id="stepper">Core Content</li>
                    <li class="" style="font-family:Arial;font-size:.8rem;color:black" id="stepper">Additional Content</li>
                    <li class="" style="font-family:Arial;font-size:.8rem;color:black" id="stepper">Finalise & Download</li>
                    {% comment %} <li id="stepper">Drop RFP & Ask Question</li>
                    <li class="" id="stepper">Drop RFP / Ask Question</li>
                    <li class="" id="stepper">Extra Images</li>
                    <li class="" id="stepper">Assuption and Risk Consideration</li> {% endcomment %}
                    
                  </ul>
                </div>
              
                <a class="float-right" href="mailto:pholdridge@kpmg.com.au?subject=Feedback for 'Powered Enterprise Intelligent RFP Builder'&body=Hi Paul">
                  <button id="btnOutlook" class="float-right btn btn-sm border border-success mr-5" >Feedback</button>
              </a>
      
      
      
              </div>
        </div>
      </div>
        {% comment %} Progress Bar {% endcomment %}
           {% comment %} Heading {% endcomment %}
   <div class=" container mt-3" >
    <div class="row-12 text-center ">
        <div class="col-12 text-center ">
            <h4>Section: {{show.doc_index}}</h4>
    </div>
</div>
</div>
{% comment %} Heading {% endcomment %}
{% comment %} Heading text {% endcomment %}
{% if show.doc_index == 'Executive Summary' %}
<div class=" container " >
  <div class="row-12 text-center ">
      <div class="col-12 text-center " >
          <h6 style="font-family:Arial;color:black">The Executive Summary section provides an example for the industry you previously selected. This section should be rewritten specifically for your opportunity.
            
            </h6>
  </div>
</div>
</div>
{% endif%}
{% comment %} Heading text {% endcomment %}
  <script>
    // function copyClipboard() {
      // let copyText = document.querySelector(".copy-text");
      // console.log(copyText, 'copy')
      // copyText.querySelector("button").addEventListener("click", function () {
      //   let input = copyText.querySelector("input.text");
      //   input.select();
      //   document.execCommand("copy");
      //   copyText.classList.add("active");
      //   window.getSelection().removeAllRanges();
      //   setTimeout(function () {
      //     copyText.classList.remove("active");
      //   }, 2500);
      // });
    // }
    function copyClipboard(text) {
      // Get the text field
      // var copyText = document.getElementById("myInput");
      // var copText = "{{c}}";

      // Select the text field
      // copyText.select();
      // copyText.setSelectionRange(0, 99999); // For mobile devices

      // Copy the text inside the text field
      // navigator.clipboard.writeText(copyText.value);
      navigator.clipboard.writeText(text);
      
      // Alert the copied text
      alert("Copied the text: " + text);
    }
    

  </script>
  <div class="container mb-2">
    <div class="row">
      <div class="col-12">
        <!-- <div class="mt-1">{{show.doc_index}}</div> -->
        {% if show.doc_index == 'Title Page' %}
          <!-- <img
            src="{{image_url.image.url}}"
            width="100%"
            height="450px"
          > -->
          <iframe
            src="https://view.officeapps.live.com/op/embed.aspx?src={{show.file_link}}"
            title="W3Schools Free Online Web Tutorials"
            width="100%"
            height="500px"
          ></iframe>
        {% else %}
          <iframe
            src="https://view.officeapps.live.com/op/embed.aspx?src={{show.file_link}}"
            title="W3Schools Free Online Web Tutorials"
            width="100%"
            height="500px"
          ></iframe>
        {% endif %}
      </div>
      
      <button
      type="submit"
      class="btn btn-dark btn-sm d-inline ml-3"
      style="background-color: #000099; margin-right: 5px;"
      >
        Next
      </button>
      {% if show.doc_index == 'Title Page' or show.doc_index in standard_sections %}
      <!-- <a class="btn btn-dark d-inline ml-1 mr-1"
        style="
          font-size: 0.7rem;
          width: 5rem;
          background-color: #f2f2f2;
          color: black;
        " href='{{show.file_link}}' Download>Download</a> -->
      {% else %}
      <a class="btn btn-dark d-inline ml-1 mr-1"
        style="
          background-color: #f2f2f2;
          color: black;
        " href='{{show.file_link}}' Download>Download</a>
      {% endif %}
      <a
        class="btn btn-dark d-inline"
        style="
          background-color: #f2f2f2;
          color: black;
        "
        href="{% url 'user_dashboard'%}"
        >Home</a
      >
      
      <a
        class="btn btn-dark ml-1 mr-1"
        style="
          background-color: #f2f2f2;
          color: black;
        "
        onclick="history.back()"
        >Back</a>
      </form>
      {% if show.doc_index == 'Title Page' or show.doc_index in standard_sections %}
      {% else %}
        
        <a
        class="btn btn-dark d-inline"
        data-toggle="modal" data-target="#exampleModal"
        style="
          background-color: #f2f2f2;
          color: black;
        "
        >GPT</a>
        <!-- <button class="btn btn-primary" data-toggle="modal" data-target="#exampleModal">
          Launch demo modal
        </button> -->
      {% endif %}

      <!-- <input type="button" onClick="document.getElementById('middle').scrollIntoView();" /> -->
    </div>
    {% if show.doc_index == 'Title Page' %}
    {% else %}
    <!-- <div>
      <div class="col-6">
        <strong
          class="float-centre"
          style="font-size: 1.5rem; font-family: verdana; color: black"
          class="   float-center"
          >&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;CHAT
          GPT(External Source)</strong
        >
      </div>
      <small style="font-size: 0.7rem"
        >To help inspire your response we have included a Chat GPT interface that will allow you to ask specific questions in relation to the client or industry. Please Note: Chat GPT processes data offshore and by using this platform, you agree and understand that ChatGPT may use any content to develop and improve its services, and therefore once data has been fed into the software, ChatGPT owns that Intellectual Property. </small
      >
      <form id='q_n_a' action="{% url 'SelectedIndex'%}" method="GET">
        <input
          type="text"
          class="form-control border border-dark"
          id="question"
          name="gpt_question"
          placeholder="Enter Question"
          style="font-size: 0.7rem; width: 69rem"
        />
        <div class="d-inline float-right">
          <button
            type="submit"
            class="btn btn-dark btn-sm d-inline"
            style="font-size: 0.7rem; width: 7rem; background-color: #000099"
          >
            Submit Question
          </button>
        </div>
      </form>
    </div> -->
    {% endif %}
    {% if show.doc_index == 'Title Page' %}
    {% else %}
    <!-- <div class="row" id="chat_gpt">
      <div class="col-6">
      </div>
      
        <div>
          
          <div class="mt-3">
            <strong style="font-size: 1.2rem" class="mt-5 float-center"
              >RESULTS</strong
            >
          </div>
          <div
            class="textarea border border-secondary rounded"
            style="
              font-size: 1rem;
              width: 70rem;
              height: 16rem;
              background-color: rgb(151, 139, 139);
              color: white;
            "
          >
            Question: {{gtp_question}}
            Answer: {{c}}
            {% if c %}
              <button name="{{c}}" onclick="copyClipboard(name)">Copy text</button>
            {% endif %}

          </div>
        </div>
        
      </div> -->
      
    </div>
    {% endif %}
  </div>
  <!-- Modal -->
  <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">GPT(External Source)</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <div>
      <!-- <div class="col-6">
        <strong
          class="float-centre"
          style="font-size: 1.5rem; font-family: verdana; color: black"
          class="   float-center"
          >&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;CHAT
          GPT(External Source)</strong
        >
      </div> -->
      <small>
        To help inspire your response we have included a Chat GPT interface that will allow you to ask specific questions in relation to the client or industry.
        Please Note: Chat GPT processes data offshore and by using this platform, you agree and understand that ChatGPT may use any content to develop and improve its services,
        and therefore once data has been fed into the software, ChatGPT owns that Intellectual Property.
      </small
      >
      <form id='q_n_a' action="{% url 'SelectedIndex'%}" method="GET">
        <!-- <input
          type="text"
          class="form-control border border-dark"
          id="question"
          name="gpt_question"
          placeholder="Enter Question"
          style="width: 35rem;"
        /> -->
        <textarea rows="4" cols="50" name="gpt_question" form="q_n_a" placeholder="Type your text">
          </textarea>
        <!-- <div class="d-inline float-right">
          <button
            type="submit"
            class="btn btn-dark btn-sm d-inline"
            style="font-size: 0.7rem; width: 7rem; background-color: #000099"
          >
            Submit Question
          </button>
        </div> -->
      </form>
    </div>
    <div class="row" id="chat_gpt">
      <div class="col-6">
      </div>
      
        <div>
          
          <div class="mt-3">
            <strong style="font-size: 1.2rem" class="mt-5 float-center"
              >RESULTS</strong
            >
          </div>
          <div
            class="textarea border border-secondary rounded"
            style="
              font-size: 1rem;
              width: 49rem;
              height: 16rem;
              background-color: rgb(151, 139, 139);
              color: white;
              margin-left: 3px;
            "
          >
            Question: {{gtp_question}}
            Answer: {{c}}
            {% if c %}
              <button name="{{c}}" onclick="copyClipboard(name)">Copy text</button>
            {% endif %}

          </div>
        </div>
        
      </div>
        </div>
        <div class="modal-footer">
            <div class="d-inline float-right">
              <button
                type="submit"
                class="btn btn-dark btn-sm d-inline"
                style="background-color: #000099"
                onclick="postGPT()"
              >
              Submit
            </button>
          </div>
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          <!-- <button type="button" class="btn btn-primary">Save changes</button> -->
        </div>
      </div>
    </div>
  </div>
  
  <div class="container ">
    <div class="row">

  <div class="">
    <!-- Copyright -->
    <footer class="">
  
      <!-- Copyright -->
      <div class="footer-copyright " style="font-family:Arial;color:black;font-size: 9px;" >© 2023 Copyright owned by one or more of the KPMG International entities. KPMG International entities provide no services to clients. All rights reserved. KPMG refers to the global organization or to one or more of the member firms of KPMG International Limited (“KPMG International”), each of which is a separate legal entity. KPMG International Limited is a private English company limited by guarantee and does not provide services to clients. For more detail about our structure please visit https://home.kpmg/governance
      </div>
      <!-- Copyright -->
    
    </footer>
    <!-- Footer --> 
  </div>
  <script>
    window.onload = function() {
      // $('#loader1').hide();
      $('#chat_gpt').hide();
      
    };
  </script>
</div>
</div>
{% endblock content %}
